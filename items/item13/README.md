# Item 13: 以对象管理资源

* 为防止资源泄漏，请在资源申请时，把资源放在管理对象中，也就是RAII对象，它们在构造函数中获得资源，在析构函数中释放资源。
* 对于内存管理的管理，常用的RAII classes就是智能指针。


```cpp
void f() {
  Investment* pInv = createInvestment();
  ...
  delete pInv;
}
```

像上面这样的代码非常容易发生内存泄漏。`...`的区域有可能过早退出，比如有一些goto，break, return语言之类的，或者发生了异常。我们当然可以在写代码的时候非常小时，考虑的尽可能的周到来避免这样的问题。但随着时间的逝去，你的代码可能被其他人开始维护，加入新的特性，这些维护者并不会如你在写下这些代码时，考虑的那么周全。

以对象管理资源的两个关键想法：

* 获得资源后立刻放进管理对象（managing object）内。这种观念也被称为“资源获取即初始化”（RAII）。
* 管理对象运用析构函数确保资源被释放。无论控制流如何，只要作用域结束，栈上的管理对象的析构函数一定会被自动调用。


