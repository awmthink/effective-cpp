# Item 19: 设计class犹如设计type

在C++中当我们定义一个新class时，大部分时间都是在扩张我们的类型系统。这时，我们是一个type的设计者，我们应该带着和“语言设计者当初设计语言内置类型时”一样的谨慎来研讨class的设计。好的types有自然的语法、直观的语义，以及一个或多个高效的实现品。

Class的设计就是type的设计。在定义一个新type之前，请确定你考虑过下面的问题：

* 新type对象应该如何被创建和销毁，主要是构造函数和析构函数的设计。
* 对象的初始化和赋值该有什么样的差别？决定了构造函数和赋值操作符的行为，别混淆了“初始化”和“赋值”。
* 新type的对象如果被pass yb value，意味什么？这个拷贝构造函数考虑的问题。
* 什么是新type的“合法值”，对class的成员变量，通常只有某些数值集是有效的。class的构造函数，赋值操作符和一些setter函数，必须进行错误检查工作。
* 你的新type需要配合某个继承图系（inheritance graph）吗？你是否继承别人，以及是否让别人继承。
* 你的新type需要什么样的转换？类型转换函数可以进行隐式转换，而explicit构造函数则要求显式转换。
* 新的type该支持哪些操作，也就是设计什么样的public成员函数
* 谁该取用新type的成员？决定哪些成员是public，哪个为protected，哪个为private
* 新的type有多么的一般化？ 是该定义一个新type还是应该定义一整个types家族。用不用template
* 你真的需要一个新type吗？或者加一些函数或template就可以达到目标。
